<view class="calendar">
  <!-- 月份导航 -->
  <view class="calendar-header">
    <text class="month-nav" bindtap="onMonthChange" data-direction="prev">‹</text>
    <text class="month-title">{{year}}年{{month}}月</text>
    <text class="month-nav" bindtap="onMonthChange" data-direction="next">›</text>
  </view>

  <!-- 星期标题 -->
  <view class="weekdays">
    <text wx:for="{{weekdays}}" wx:key="index">{{item}}</text>
  </view>

  <!-- 日期网格 -->
  <view class="calendar-grid">
    <view 
      wx:for="{{monthDates}}" 
      wx:key="index"
      class="date-cell {{item.type}} {{item.isToday ? 'today' : ''}} {{getRecordStatus(item.date)}}"
      bindtap="onDateTap"
      data-date="{{item.date}}"
      data-type="{{item.type}}"
    >
      <text wx:if="{{item.date}}" class="date-number">
        {{new Date(item.date).getDate()}}
      </text>
      <view wx:if="{{getHasRecord(item.date)}}" class="record-dot"></view>
    </view>
  </view>
</view>